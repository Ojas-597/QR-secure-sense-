<!DOCTYPE html>
<html>
<head>
  <title>System Security Alert</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="malware">
  <h1>⚠ Fake Malware Detected</h1>
  <p>This is a simulation for security awareness.</p>

  <div id="scanBox">Scanning device...</div>
  <div id="result"></div>

  <script>
  const steps = [
    "Checking system files...",
    "Analyzing network activity...",
    "Scanning installed apps...",
    "Checking permissions...",
    "Finalizing report..."
  ];

  let i = 0;
  const box = document.getElementById("scanBox");
  const res = document.getElementById("result");

  const interval = setInterval(() => {
    if (i < steps.length) {
      box.innerText = steps[i];
      i++;
    } else {
      clearInterval(interval);

      fetch("/log-scan", { method: "POST" });

      const fakeRisk = Math.floor(Math.random() * 100) + 1;

      res.innerHTML = `
        ✅ No real malware found.<br>
        This was a security awareness demo.<br>
        Fake Risk Score: ${fakeRisk}%
      `;
    }
  }, 1500);
  </script>
</body>
</html>
